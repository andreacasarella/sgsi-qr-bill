"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PDF = void 0;
const fs_1 = require("fs");
const pdf_js_1 = require("../pdf/pdf.js");
class PDF extends pdf_js_1.PDF_ {
    constructor(data, outputPathOrWritableStream, optionsOrCallback, callbackOrUndefined) {
        let callback = undefined;
        let options = undefined;
        if (typeof optionsOrCallback === "object") {
            options = optionsOrCallback;
            if (typeof callbackOrUndefined === "function") {
                callback = callbackOrUndefined;
            }
        }
        else if (typeof optionsOrCallback === "function") {
            callback = optionsOrCallback;
        }
        super(data, options);
        let stream;
        if (typeof outputPathOrWritableStream === "string") {
            stream = (0, fs_1.createWriteStream)(outputPathOrWritableStream);
        }
        else {
            stream = outputPathOrWritableStream;
        }
        super.pipe(stream);
        stream.on("finish", ev => {
            if (typeof callback === "function") {
                callback(this);
            }
            this.emit("finish", ev);
        });
    }
}
exports.PDF = PDF;
//# sourceMappingURL=pdf.js.map